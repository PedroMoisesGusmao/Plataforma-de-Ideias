<div class="card">
    <h2>Todas as Ideias:</h2>

    {{#if ideas.length}}
        <ul class="ideas-list">
            {{#each ideas}}
                <li class="idea-item">
                    <div class="idea-header">
                        <div class="idea-title">{{this.title}}</div>
                        <div class="vote-count-badge" id="vote-count-{{this._id}}">
                            <small>Votos: {{this.votesTotal}}</small>
                        </div>
                    </div>
                    <div class="idea-description">{{this.description}}</div>
                    <div class="idea-meta">
                        <span class="badge badge-category">{{this.category}}</span>
                        <span class="badge badge-status {{this.status}}">{{this.status}}</span>
                    </div>
                    <div class="idea-actions">
                        <button onclick="location.href='/idea/edit/{{this._id}}'" class="btn-edit">Editar</button>
                        <form class="delete-form" method="post" action="/idea/delete/{{this._id}}">
                            <button type="submit" class="btn-delete" onclick="return confirm('Tem certeza que deseja excluir esta ideia?')">Excluir</button>
                        </form>

                        <form action="/vote/toggle/{{this._id}}" method="POST" class="vote-form">
                            <button type="submit" class="btn-vote {{#if this.userVoted}}voted{{/if}}">
                                {{#if this.userVoted}}Retirar voto{{else}}Votar{{/if}}
                            </button>
                        </form>
                    </div>
                </li>
            {{/each}}
        </ul>
    {{else}}
        <div class="empty-state">
            <span class="emoji">ðŸ”Ž</span>
            <p>Ainda nÃ£o hÃ¡ ideias cadastradas.</p>
            <p>Que tal criar a primeira?</p>
        </div>
    {{/if}}
</div>
